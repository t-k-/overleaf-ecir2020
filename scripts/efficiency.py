import matplotlib.pyplot as plt

dat = [[] for i in range(32)]
# tangent
dat[0] = [19.158,6.672,46.227,571.169,1013.281,540.828,704.087,410.340,1348.866,549.935,161.615,84.586,123.087,428.742,853.283,1513.396,779.680,1801.070,184956.305,73102.553] 
dat[1] = [19.158,6.672,46.227,571.169,1013.281,540.828,704.087,410.340,1348.866,549.935,161.615,84.586,123.087,428.742,853.283,1513.396,779.680,1801.070] 
# ours
dat[2] = [129.103184,89.227915,550.692081,2269.822121,285.165548,88.731289,923.754692,2272.818804,1677.676678,2471.356153,1846.990585,676.216602,1417.883158,1313.904524,1346.700907,3989.693880,478.722334,3262.004137,4695.595264,5543.483734]
dat[3] = [118.026972,89.649916,429.224491,1567.502022,239.603519,89.367390,634.111404,1663.408041,1303.022861,1793.333292,1143.126249,508.613348,968.500137,965.755939,1081.011534,2831.328869,359.479189,2414.796829,3838.413954,4295.215130]
dat[4] = [120.434284,90.176344,453.635693,1742.565870,236.541510,89.876890,668.508530,1856.531143,1226.200342,2065.310955,1436.144590,491.631508,1112.423182,1038.713932,1062.974930,3330.714226,382.167339,2685.455799,3441.665411,4668.383598]
dat[5] = [105.884552,88.921070,338.626385,1077.754259,192.090750,87.574959,392.321825,1282.943964,853.726149,1441.182852,787.344217,336.248159,692.845106,703.012228,818.996668,2223.448038,265.700102,1830.996752,2574.730635,3373.211622]

dat[6] = [120.342970,88.699818,599.137068,932.409525,376.384974,87.963581,786.733627,1363.259315,339.578629,1095.570326,328.416586,567.705393,886.338949,954.577208,1915.049791,1888.516665,421.947479,1277.267456,1608.318567,1210.599661]
dat[7] = [121.543884,87.934732,598.079920,944.383621,375.776291,88.011503,777.566910,1364.484549,337.161541,1090.746164,330.076694,563.240290,889.926672,971.417427,1892.206907,1889.179230,428.219080,1274.893284,510.704279,1140.663862]
dat[8] = [114.004374,88.073969,450.255632,679.858208,301.161051,87.798119,670.149565,950.713158,297.091961,761.437178,263.438225,457.912207,684.388876,689.556837,1396.617651,1266.834021,349.230289,876.835585,1263.460159,824.723721]
dat[9] = [112.665653,89.395285,449.691534,678.861618,304.712057,89.436054,671.473265,937.070847,294.554472,767.377138,262.877226,460.992813,672.653198,691.398144,1401.635408,1273.580074,352.445364,882.228613,388.567924,767.323732]
dat[10] = [113.456011,95.035791,171.765327,141.072989,211.136818,93.960047,296.467543,416.722059,248.371840,238.126278,183.355570,394.104958,387.169600,206.600904,325.562954,808.659077,223.579407,345.714331,162.868500,424.655676]
dat[11] = [102.416754,95.836163,151.999712,122.997522,161.535025,96.336842,172.136068,364.458084,152.150869,188.452482,137.309313,211.455345,252.320290,164.775372,260.655880,549.763680,147.440195,267.422438,144.449711,317.503214]

# for i in range(6):
#     print(len(dat[i]))

fig, ax = plt.subplots(1, 2, gridspec_kw={'width_ratios': [1, 6]})

plt.grid(linestyle=":")

#subtitle = ['Tangent-S', 'Tangent-S w/o outliers', '3-beta (disk)', '3-beta (memo)', 'opd-only (disk)', 'opd-only (memo)',
#            'pruning (memo)', 'pruning (memo, initTheta)', 'pruning (memo, -O2)', 'pruning (memo, initTheta, -O2)',
subtitle = ['Tangent-S',
            'pruning (disk, initTheta, -02, skipping, hashtable)', 'pruning (memo, initTheta, -02, skipping, hashtable)']

fig.subplots_adjust(wspace=10)

ax[0].set_ylabel('Time (msec)')

ax[0].boxplot(dat[0])
ax[0].set_xticklabels([subtitle[0]])
ax[0].locator_params(nbins=8, axis='y')

#ax[1].boxplot([dat[1], dat[2], dat[3], dat[4], dat[5], dat[6], dat[7], dat[8], dat[9], dat[10], dat[11]])
ax[1].boxplot([dat[10], dat[11]])
ax[1].set_xticklabels(subtitle[1:], rotation=15)
ax[1].locator_params(nbins=10, axis='y')

# w, h =(15, 2.5)
w, h =(10, 2.5)
fig.set_size_inches(w, h)
fig.tight_layout()

#plt.show()
fig.savefig('./img/efficiency.png')
plt.close(fig)    
